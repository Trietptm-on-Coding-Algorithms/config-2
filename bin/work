#!/bin/bash

# root crontab should look like
# @hourly export HOME=~riggle; ~/bin/work
# @reboot export HOME=~riggle; ~/bin/work

hosts=( reddit.com
        ssl.reddit.com
        slashdot.org
        twitter.com
        facebook.com
        amazon.com
        pwnable.kr
        smashthestack.org
        dpreview.com
        slrgear.com
        imaging-resource.com
        43rumors.com
        ebay.com
        netflix.com
        imgur.com
        twitch.tv
        youtube.com
        ycombinator.com
        news.ycombinator.com
)

for host in ${hosts[@]}; do
    echo "127.0.0.1 $host www.$host # work"
done \
| sudo tee -a /etc/hosts >/dev/null

if uname | grep Darwin; then
    dscacheutil -flushcache
fi > /dev/null

[ "$#" -ne 0 ] && echo "$@" >> ~/.work_reason
echo "Now you're working on: $(tail -n1 ~/.work_reason)"
